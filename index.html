<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>WebDriver Wrapper documentation &mdash; WebDriver Wrapper  documentation</title>
    
    <link rel="stylesheet" href="static/nature.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="WebDriver Wrapper  documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="#">WebDriver Wrapper  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="webdriver-wrapper-documentation">
<h1>WebDriver Wrapper documentation<a class="headerlink" href="#webdriver-wrapper-documentation" title="Permalink to this headline">¶</a></h1>
<p>What is WebDriver Wrapper? Better interface of WebDriver in Python. WebDriver
is great for testing whole web apps, but it&#8217;s pain using available API. This
wrapper wraps it and handle following for you:</p>
<ul class="simple">
<li>Adds messages into WebDriver&#8217;s exceptions. By default there is no information
about which element is missing and where and so on.</li>
<li>Adds usefull method to <tt class="xref py py-class docutils literal"><span class="pre">selenium.WebDriver</span></tt>
and <tt class="xref py py-class docutils literal"><span class="pre">selenium.WebElement</span></tt> such as<ul>
<li><tt class="xref py py-meth docutils literal"><span class="pre">find_elements_by_text</span></tt>,</li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">contains_text</span></tt>,</li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">wait_for_element</span></tt>,</li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">go_to</span></tt>,</li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">download_file&nbsp;</span></tt></li>
<li>and more.</li>
</ul>
</li>
<li>Simplifys filling out of forms.<ul>
<li>There is method <tt class="xref py py-meth docutils literal"><span class="pre">fill_out</span></tt> when
<tt class="docutils literal"><span class="pre">WebElement</span></tt> is <tt class="docutils literal"><span class="pre">form</span></tt> to which you can pass Pythonic data.</li>
<li><tt class="docutils literal"><span class="pre">WebElement</span></tt> is automatically instance of
<tt class="xref py py-obj docutils literal"><span class="pre">Select</span></tt> if it is <tt class="docutils literal"><span class="pre">select</span></tt>.</li>
</ul>
</li>
<li>Provide <tt class="xref py py-obj docutils literal"><span class="pre">TestCase</span></tt> for unittesting.</li>
<li>Provide pytest fixtures for testing with pytest.</li>
</ul>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre>pip install webdriverwrapper
</pre></div>
</div>
<p>If you want also suggestions, then also install extra requirements:</p>
<div class="highlight-bash"><div class="highlight"><pre>pip install webdriverwrapper<span class="o">[</span>seggestions<span class="o">]</span>
</pre></div>
</div>
<p>Then you will see something like this:</p>
<div class="highlight-python"><div class="highlight"><pre>driver.get_elm(&#39;qbdfq&#39;)
NoSuchElementException: Message: No element &lt;* id=qbdfq&gt; found at https://www.google.com, did you mean id=gbsfw?
</pre></div>
</div>
<div class="section" id="hello-world">
<h3>Hello World!<a class="headerlink" href="#hello-world" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="n">driver</span> <span class="o">=</span> <span class="n">Chrome</span><span class="p">()</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;http://www.google.com&#39;</span><span class="p">)</span>
<span class="n">form_elm</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">get_elm</span><span class="p">(</span><span class="s">&#39;gbqf&#39;</span><span class="p">)</span>
<span class="n">form_elm</span><span class="o">.</span><span class="n">fill_out_and_submit</span><span class="p">({</span>
    <span class="s">&#39;q&#39;</span><span class="p">:</span> <span class="s">&#39;Hello World!&#39;</span><span class="p">,</span>
<span class="p">})</span>
<span class="n">driver</span><span class="o">.</span><span class="n">wait_for_element</span><span class="p">(</span><span class="n">id_</span><span class="o">=</span><span class="s">&#39;search&#39;</span><span class="p">)</span>
<span class="n">driver</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="wrapper">
<h3>Wrapper<a class="headerlink" href="#wrapper" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="forms">
<h3>Forms<a class="headerlink" href="#forms" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="downloading">
<h3>Downloading<a class="headerlink" href="#downloading" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="testing">
<h3>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h3>
<p>Supported are both UnitTest and PyTest tests. Each of them have own section
bellow, but first you have to know something about &#8220;expecting decorators&#8221;.</p>
<p>After each test is called method
<tt class="xref py py-meth docutils literal"><span class="pre">check_expected_errors</span></tt>
and <tt class="xref py py-meth docutils literal"><span class="pre">check_expected_infos</span></tt>
which will raise exception if there is some unexpected error. By default you
doesn&#8217;t have to check everytime presence of some error - <tt class="docutils literal"><span class="pre">TestCase</span></tt> or PyTest
fixtures does that for you automatically. But sometimes you want to test that
something fail - that something ends with some error message or info message.
For that there are several decorators.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Following test go to relative page &quot;settings&quot; and fill out and submit form.</span>
<span class="c"># Test have to ends on page where is info message to user with key sucessfuly_saved.</span>
<span class="nd">@expected_info_message</span><span class="p">(</span><span class="s">&#39;sucesfully_saved&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_save_data</span><span class="p">(</span><span class="n">driver</span><span class="p">):</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">go_to</span><span class="p">(</span><span class="s">&#39;settings&#39;</span><span class="p">)</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">fill_out_and_submit</span><span class="p">({</span>
        <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;Michael&#39;</span><span class="p">,</span>
    <span class="p">})</span>

<span class="c"># Test have to ends on page indicating that user doesn&#39;t have permission.</span>
<span class="nd">@expected_error_page</span><span class="p">(</span><span class="s">&#39;403&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_access_admin_page</span><span class="p">(</span><span class="n">driver</span><span class="p">):</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">go_to</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>When you need some changes in method
<tt class="xref py py-meth docutils literal"><span class="pre">get_error_page</span></tt>,
<tt class="xref py py-meth docutils literal"><span class="pre">get_error_traceback</span></tt>,
<tt class="xref py py-meth docutils literal"><span class="pre">get_error_messages</span></tt>
or <tt class="xref py py-meth docutils literal"><span class="pre">get_info_messages</span></tt>,
feel free to change it like that:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">webdriverwrapper</span> <span class="kn">import</span> <span class="n">Chrome</span>

<span class="n">driver</span> <span class="o">=</span> <span class="n">Chrome</span><span class="p">()</span>

<span class="c"># Better to set it on instance, so you can change browser without changing this code.</span>
<span class="n">dirver</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">get_error_page</span> <span class="o">=</span> <span class="n">your_method</span>
<span class="n">dirver</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">get_error_traceback</span> <span class="o">=</span> <span class="n">your_method</span>
<span class="n">dirver</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">get_error_messages</span> <span class="o">=</span> <span class="n">your_method</span>
<span class="n">dirver</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">get_info_messages</span> <span class="o">=</span> <span class="n">your_method</span>
</pre></div>
</div>
<div class="section" id="decorators">
<h4>Decorators<a class="headerlink" href="#decorators" title="Permalink to this headline">¶</a></h4>
<div class="section" id="example">
<h5>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@expected_info_messages</span><span class="p">(</span><span class="s">&#39;Your information was updated.&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_save</span><span class="p">(</span><span class="n">driver</span><span class="p">):</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">fill_out_and_submit</span><span class="p">({</span>
        <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;Michael&#39;</span><span class="p">,</span>
    <span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="error-and-info-messages">
<h4>Error and info messages<a class="headerlink" href="#error-and-info-messages" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="pytest">
<h4>PyTest<a class="headerlink" href="#pytest" title="Permalink to this headline">¶</a></h4>
<p>Import whole module in your main <tt class="docutils literal"><span class="pre">conftest.py</span></tt> and define fixture <tt class="docutils literal"><span class="pre">_driver</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pytest</span>
<span class="kn">from</span> <span class="nn">webdriverwrapper</span> <span class="kn">import</span> <span class="n">Chrome</span>
<span class="kn">from</span> <span class="nn">webdriverwrapper.pytest</span> <span class="kn">import</span> <span class="o">*</span>


<span class="c"># Create browser once for all tests.</span>
<span class="nd">@pytest.yield_fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s">&#39;session&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">session_driver</span><span class="p">():</span>
    <span class="n">driver</span> <span class="o">=</span> <span class="n">Chrome</span><span class="p">()</span>
    <span class="k">yield</span> <span class="n">driver</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>


<span class="c"># Before every test go to homepage.</span>
<span class="nd">@pytest.fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s">&#39;function&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_driver</span><span class="p">(</span><span class="n">session_driver</span><span class="p">):</span>
    <span class="n">session_driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;http://www.google.com&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">session_driver</span>
</pre></div>
</div>
<p>Then you can write tests really simply:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">test_doodle</span><span class="p">(</span><span class="n">driver</span><span class="p">):</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="s">&#39;gbqfsb&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">driver</span><span class="o">.</span><span class="n">contains_text</span><span class="p">(</span><span class="s">&#39;Doodles&#39;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">test_search</span><span class="p">(</span><span class="n">driver</span><span class="p">):</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">get_elm</span><span class="p">(</span><span class="s">&#39;gbqf&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fill_out_and_submit</span><span class="p">({</span>
        <span class="s">&#39;q&#39;</span><span class="p">:</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span>
    <span class="p">})</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">wait_for_element</span><span class="p">(</span><span class="n">id_</span><span class="o">=</span><span class="s">&#39;resultStats&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="unittest">
<h4>UnitTest<a class="headerlink" href="#unittest" title="Permalink to this headline">¶</a></h4>
</div>
</div>
<div class="section" id="exceptions">
<h3>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h3>
<p>You doesn&#8217;t have to care about some exception. In test result you will get some
exception with clear message. But if you need something special or is there some
confusion, these are all exceptions defined by this wrapper.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">WebDriver Wrapper documentation</a><ul>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#hello-world">Hello World!</a></li>
</ul>
</li>
<li><a class="reference internal" href="#documentation">Documentation</a><ul>
<li><a class="reference internal" href="#wrapper">Wrapper</a></li>
<li><a class="reference internal" href="#forms">Forms</a></li>
<li><a class="reference internal" href="#downloading">Downloading</a></li>
<li><a class="reference internal" href="#testing">Testing</a><ul>
<li><a class="reference internal" href="#decorators">Decorators</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#error-and-info-messages">Error and info messages</a></li>
<li><a class="reference internal" href="#pytest">PyTest</a></li>
<li><a class="reference internal" href="#unittest">UnitTest</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="#">WebDriver Wrapper  documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Michal Horejsek.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>